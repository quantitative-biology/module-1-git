\documentclass[aspectratio=169]{beamer}
%% For 4:3 aspect ratio:
%% \documentclass{beamer}
\usepackage{../git-course}

\title[git-course]{Setting up Git and \gh\ for the first time}
\author{Andrew Edwards}
\date{\course}

\begin{document}

\frame[plain]{
\titlepage
}

\frame{\frametitle{Getting started...}
  Before you start using Git you need to set up your computer to use it, and
  install a few other programs that are useful.

  ~\\

  This is a {\red one-time setup} and once it is done, you will be able to
  easily create new projects or join others in collaboration.

  ~\\

  We have tested the installations as much as feasible. If you have an issue
  then search the internet, as it may be due to some configuration on your
  particular computer.

  ~\\

  This module is for any operating system: Windows, MacOS, Linux or Unix.

  ~\\
}

\frame{\frametitle{While testing...}

Luwen -- I think you said you already have Git set up on your computer. If so
then don't worry about redoing anything you already have. And please let me know
of any tips you might have if you remember how you installed it before.

~\\

Luwen and Matthew -- please keep notes of any steps that aren't clear. I can't
test the installation, so any feedback is welcome.
}

\frame{\frametitle{What you will end up having installed}
  \bigskip
  These are programs/things you will need (instructions are on the next
  slides). Obviously skip any that you already have working.
  \bi
  \item A \gh\ account
  \item Git on your computer
  \item Diffmerge or something similar for comparing changes to files
  \item Markdown Pad 2 or Chrome extension or something similar for viewing Markdown
    files
%  \item R -- presumably a version not \emph{too} old (though it's hard for us to specify
%    exactly what version). Also a few R packages are given here
%  \item A way of running \LaTeX\ (such as Mik\TeX\ or Pro\TeX)
  \item A text editor that isn't Notepad
%  \item Pandoc (comes with RStudio)
  \ei
}

\frame{\frametitle{Get a \gh\ account}
  \bigskip
  \bi
    \item Sign up for \gh: \url{https://github.com}
    \item If possible, choose a user name that will make sense to colleagues,
      e.g. \textbf{andrew-edwards} or \textbf{cgrandin}, not
      \textbf{pink-unicorn}.
    \item Optional (but desirable): attach a photo (headshot) to your
      profile. This makes it easy for collaborators to identify you.
  \ei
}



\frame{\frametitle{Install the Git application on your machine}
See \url{https://git-scm.com/downloads} for downloading instructions for Windows, MAC and
Linux/Unix.
}

\frame{\frametitle{Git shell}
For this course we will use a simple git shell to type commands (rather than a
point-and-click Graphical User Interface). This is for several reasons:
\bn
\item Commands are the same across operating systems.
\item It is easier to demonstrate (and remember) a few simple commands, rather than
  follow a cursor moving across a screen.
\item Learning the text commands will give you a good understanding of how Git
  and GitHub work.
\item It is easier to Google for help when you get stuck or want to learn about
  more advanced options.
\en

There are many Graphical User Interfaces that are available, as described at
\url{https://git-scm.com/downloads/guis}. I have just started using magit
which works in the text editor emacs (which for years I have used for pretty
much everything, such as editing files, running R, etc.). But I would not have
been able to learn magit without first knowing the Git commands from using the
shell.
}

\frame{\frametitle{RStudio and Git}

  Many (but not all) biologists use R in RStudio for their analyses. There is
  Git functionality built in to RStudio that we (TODO: SOMEONE?) will
  demonstrate later.

  ~\\

  For now we will stick with the Git shell for the aforementioned reasons. It
  will also give you a better understanding of Git and GitHub (and emphasise
  that you can use Git for any files, not just R code).

}

\frame{\frametitle{STOP!!}

Luwen and Matthew -- please let me know how it went so far. We
should probably have a meeting and you share your screens so I can see what you have.

~\\

We'll need to work out if you automatically have a Git shell installed -- a
shell is just a command-line where you type commands.

~\\

The installation advice is hard to test as I did my Git installation once about
three years ago, and I think there's a different approach now.

~\\

Luwen did the next slide (Powershell) and it worked, so people can do that one.

~\\
Please try the rest of the slides, except any that say SKIP at the top.

~\\
There might be some one-time authentication to your GitHub account (the first
time you get set up), that I think
may be prompted by instructions. Follow those if necessary.
}

\frame{\frametitle{Powershell and posh-git}

  Download a Powershell and then posh-git following the instructions at:

  \url{https://github.com/dahlbyk/posh-git}.


~\\

The next slides are from our course about three years ago (and were for
Windows). So they may be out of date (though first one is recent tips from a colleague).


[Maybe we should see https://upg-dh.newtfire.org/explainGitShell.html]

}


\frame{\frametitle{Tips from Chris in 2021 but don't think we need it all now [SKIP]}

Not sure we need this.... And I think this is just for Windows:

Install scm-git (you need this version because it has the new Windows credential
manager): https://git-scm.com/

Then make sure c:/Program Files/Git/cmd is the first place Git is found on your
PATH. That's where git-scm installs it. This is just opening a command window
and typing where git and making sure that folder is first.

Then change something in a file in a test repo,  and commit. Then try to push. You will get a Github for Windows dialog box that asks for your token. Leave that dialog open and
Create a new token on GitHub using these instructions:
https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token

Copy the token (it's some long alphanumeric string, then click Update token if updating or `create token` if creating a new one then finish saving the token so it is live.
Now, paste the token in the GitHub for Windows dialog for logging in and that
should be the end of it.
}

\frame{\frametitle{Configure the Git application [SKIP I think as automatic on MacOS]}

  \bi
    \item Windows [**think this is simpler nowadays]:
      \bn
    \item Create a \lst{github} directory, such as
          \lst[escapechar="\\"]{C:\\github}. It is fine
          to put it in a different path, but make sure there are no spaces
          or special characters \emph{anywhere} in the full path.
        \item Open the GitHub Desktop Application. Press the gear icon and
          choose \emph{Options}.
        \item In \emph{Configure Git}, fill in your name and the
          email address you used for your GitHub account.
        \item Change your \emph{Clone Path} to \lst[escapechar="\\"]{C:\\github}
          (or whatever directory you created above).
        \item Make sure that for \emph{Default Shell}, \emph{PowerShell} is
          checked.
        \item Click \emph{Save} and close the application.
        \item Check the configuration by opening the \gs, (not the \gh\
          application). The directory that it starts in should be
          \lst[escapechar="\\"]{C:\\github} (or whatever directory you created
          above).
      \en
      \item MAC:
        \bn
          \item Create the directory \lst[escapechar="\~"]{\~/github}.
          \item Enjoy a beverage.
        \en
  \ei
}

\frame{\frametitle{Install the difftool [Nice to have - not essential if you
    have trouble with it]}
  The difftool will be used to examine differences between different
  versions of files and also to simplify merging of branches and
  collaborator's code. There are many programs that can be used but
  for consistency we will use Diffmerge.\\
  \bigskip

  Install Diffmerge:\\
  \bigskip
  \url{https://sourcegear.com/diffmerge/downloads.php}\\
  \bigskip
  The configuration for directing git to use Diffmerge will be done in a
  later step.
}

\frame{\frametitle{``Cloning'' the git-course repository}
  For these instructions, replace \lst{GITHUB-USER} with your
  \gh\ account name.
  \bi
    \item On the \gh\ webpage, sign into your account and navigate to:\\
      \url{https://github.com/quantitative-biology/module-1-git}
    %\item Press the \emph{Fork} button. This will give you a copy of the
    %  git-course repository.
    %\item Navigate to your new forked repository:\\
    %  \lst{https://github.com/GITHUB-USER/git-course}
    % \item Copy the URL.
    \item Windows: Open the \gs\ and run the following command to clone the
      repository (`clone' means copy all files in the repository to your computer):
      \lst{git clone https://github.com/quantitative-biology/module-1-git}
    \item You now have the files for the GitHub course on your computer.
    \item MAC: Open terminal and change to the github directory:\\
      \lst{cd ~/github}
      then run the clone command:\\
      \lst{git clone https://github.com/quantitative-biology/module-1-git}
  \ei
}

\frame{\frametitle{Copy the \emph{.gitconfig} file}
  \bi
    \item Git uses a configuration file for your account info, name to use
      when committing, aliases for commands, and other things.
    \item Open up the \emph{misc} sub-directory in the \emph{git-course}
      directory and copy the file \emph{.gitconfig}
    \item For Windows, copy this file (overwrite the existing file) to:\\
      \bigskip
      \lst[escapechar="\\"]{C:\\Users\\YOUR-COMPUTER-USER-NAME\\.gitconfig}\\
      \bigskip
      where \lst{YOUR-COMPUTER-USER-NAME} is your user name on your
      computer, not your \gh\ account name.
      \bigskip
    \item For MAC, copy this file (overwrite the existing file) to:\\
      \bigskip
      \lst[escapechar="\~"]{\~/.gitconfig}
      \bigskip
    \ei
}

\frame{\frametitle{Edit the \emph{.gitconfig} file}
  \bi
    \item Use your favourite editor to edit the file. Don't edit the one in the
      \emph{git-course/misc} directory.
    \item Change the [user] settings to reflect your information.
    \item Change the [difftool] and [diffmerge] directories so they point to
      the location where you have DiffMerge.
    \item For Windows the location should be:\\
      \bigskip
      \lst[escapechar="\\"]{C:\\Program Files\\SourceGear\\Common\\DiffMerge\\sgdm.exe}
      \bigskip
    \item For MAC the location should be:\\
      \bigskip
      \lst{/usr/local/bin/diffmerge}
      \bigskip
    \item If you could not install [difftool] or [diffmerge] then delete those
      lines in your \emph{.gitconfig} file.
    \ei
}

\frame{\frametitle{MAC only: make your output pretty}
  On the MAC, change to the \lst[escapechar="\~"]{\~/github} directory
  and run the following command:\\
  \bigskip
  \lst{git config --global color.ui.auto}\\
  \bigskip
  This will make your git output colored in a similar way to the Windows
  powershell version.
}

\frame{\frametitle{Markdown Pad}
  Each project has an associated \lst{README.md} file that appears
  on its \gh\ homepage. The extension \lst{.md} stands for Markdown
  and is just an ASCii text file that contains simple formatting (such as
  bold or italics). There are two options we have used to read markdown files,
  choose one:\\

  \bigskip

  \bi
    \item The Markdown Pad 2 editor/viewer which is easy to use:\\
      \url{http://markdownpad.com}. Just get the free version.
    \item The Chrome extension for markdown viewing:\\
      \url{https://chrome.google.com/webstore/detail/markdown-viewer/ckkdlimhmcjmikdlpkmbgfkaikojcbjk?hl=en}.
  \ei
}

\frame{\frametitle{R and packages installation (SKIP)}
  Some exercises rely on having R installed with several packages we'll be
  using. We are assuming everyone has R installed.\\
  Install the following packages in R (we'll need more during the workshop):\\

  \bigskip

  \bi
    \item \lst{knitr}
    \item \lst{xtable}
    \item \lst{devtools}
  \ei

  \bigskip

  Make sure the location of \lst{Rscript} is included in your
  \textbf{PATH} environment variable. This is necessary to use the batch
  files that build the slides using knitr/\LaTeX. To check if it is, type
  the following into the \gs\ or any other command-line window:\\
  \lst{Rscript --version}\\
  and you should see something like this:\\
  \bigskip
  R scripting front-end version 3.3.2 (2016-10-31)
}

\frame{\frametitle{\LaTeX\ installation -- Windows (SKIP for now)}
  You will need \LaTeX\ installed (because it will correctly format Research
  Documents, even though you won't need to learn \LaTeX). You will also
  be able to build all of these course presentations from code.
  \bi
  \item If you have Rtools installed you may already have Mik\TeX installed (see
        last bullet point below to test it).
  \item On Windows, if you have lots of disk space ($>1.6$Gb you can use)
        then we think it's
        best to install it using Pro\TeX since it includes all \LaTeX\ libraries:
        \url{https://ctan.org/pkg/protext}\\
   \item If disk space may be a problem then install Mik\TeX\ (you may just have
     to install further libraries during the workshop):
      \bigskip
      \url{https://miktex.org/download}\\
      \bigskip
   \item You can build this PDF (that you are reading) by entering the
      \lst{beamer/git-setup} directory and double-click the \emph{build-pdf.bat}
      file (close this PDF first) or type \lst{pdflatex git-course-setup}.
   \ei
}

\frame{\frametitle{\LaTeX\ installation -- Mac (SKIP for now}
  \bi
  \item On MAC, install Mac\TeX:\\
      \bigskip
      \url{http://www.tug.org/mactex/}\\
      \bigskip
      Run the following two or three times (to ensure page numbers are accurate)
      in the \lst{beamer/git-setup} directory (close this PDF first):\\
      \lst{pdflatex git-course-setup.tex}
  \ei
  \bigskip
}

\frame{\frametitle{Text editor}
  You must have a text editor that is aware of outside changes in a file. This
  is necessary because if you have a file open in the editor and you download
  an updated version of the file, you want the editor to ask you if you want
  to use the updated version.\\

  \bigskip

  We know that \textbf{Emacs}, \textbf{Xemacs}, \textbf{vim} are okay, as is
  \textbf{RStudio} for \textbf{.r} (and other) files.

  \bigskip

  \textbf{Notepad} is not okay. But you can download and install
  \textbf{Notepad++} which is fine:

  \bigskip

  \url{https://notepad-plus-plus.org/download/v7.3.3.html}

  \bigskip

%  [Andy uses \textbf{Emacs} for everything (including running R and Git) as it has many keyboard shortcuts
%    and colours text and code based on the file extension; Chris uses a mixture
%    of \textbf{Xemacs} and \textbf{RStudio}.]
}

\frame{\frametitle{Pandoc (SKIP)}
  \bigskip
  If you don't use \textbf{RStudio} you need to separately install
  \textbf{Pandoc} from \url{https://github.com/jgm/pandoc/releases/tag/2.2.3.2}.
  \bigskip

  This is used in the conversion from \textbf{Rmarkdown} code to \textbf{.pdf}.
  \bigskip

  We found it best to choose `install for all users' then click
  `Advanced' before Install, as you can then choose the installation folder.
  Double check it gets added to your PATH.
}

\frame{\frametitle{If you work closely with others who are taking the course (SKIP)}
  We expect that are at least a couple of groups of people (say, from a Region)
  who work closely together within each group.\\
  \bigskip
  If there is code etc.~that you work on together (or plan to) then make sure
  one person has it and we will get you going with that in the course
  (especially as you'll be together but often work in different locations --
  when in the same room together it will be easy to plan how you should set
  up directory structure etc.).\\
  \bigskip
  Ideally the code could be made public, but if not we can work around this.\\
  \bigskip
  We will be providing example text and code to work on in the course.
}

\frame{\frametitle{To keep notes (SKIP)}
  Our slides are fairly detailed, but you may want to also take some notes.\\
  \bigskip
  If so, create a file \lst{git-course/myNotes.*} the usual way {\red on
    your computer}, where \lst{*} is \lst{txt},
  \lst{doc}, \lst{docx} or whatever you want to write in.\\
  \bigskip
  This file will remain private on your computer and not be shared (even if you
  end up making some amazing changes to our files that you want to share with
  everyone else).
  \bigskip
}

\frame{\frametitle{You're ready... (SKIP)}
  That's it! You should have everything set up to create new repositories, fork
  collaborator's repositories, commit changes, push your commits, create
  branches, and view differences. During the course you'll understand what
  all that means.\\
  \bigskip
  To get a sneak peek at what is to come, take a look at the git-course
  repository on \gh (and you should already have these files on your computer):\\
  \bigskip
  \url{https://github.com/pbs-assess/git-course}\\
  \bigskip
  In particular, the network graph which shows all our commits from the
  beginning:\\
  \bigskip
  \url{https://github.com/pbs-assess/git-course/network}\\
  \bigskip
  The network graph is an invaluable tool in keeping track of what is going
  on amongst you and you collaborators. We'll get into it more in the course.

  See you soon.
}

\end{document}
