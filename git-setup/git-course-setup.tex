\documentclass[aspectratio=169]{beamer}
%% For 4:3 aspect ratio:
%% \documentclass{beamer}
\usepackage{../git-course}

\title[git-course]{Setting up Git and \gh\ for the first time}
\author{Andrew Edwards}
\date{\course}

\begin{document}

\frame[plain]{
\titlepage
}

\frame{\frametitle{NOTE}
  Matt is copying these slides into bookdown, so make edits there rather than here
  from now on. These slides are instructions and don't need recorded as a
  (rather boring) video lecture.
}


\frame{\frametitle{Getting started}
  Before you start using Git you need to set up your computer to use it, and
  install a few other programs that are useful.

  ~\\

  This is a {\red one-time setup} and once it is done, you will be able to
  easily create new projects or join others in collaboration.

  ~\\

  We have tested the installations as much as feasible. If you have an issue
  then search the internet, as it may be due to some configuration on your
  particular computer.

  ~\\

  This module is for any operating system: Windows, MacOS, Linux or Unix.

  ~\\
}

\frame{\frametitle{What you will end up having installed}
  \bigskip
  These are programs/things you will need (instructions are on the next
  slides). Obviously skip any that you already have working.
  \bi
  \item A \gh\ account
  \item A text editor that isn't Notepad
  \item Git on your computer
  \item Diffmerge or something similar for comparing changes to files (not
    completely necessary)
  \item Markdown Pad 2 or Chrome extension or something similar for viewing Markdown
    files (not completely necessary)
  \ei
}

\frame{\frametitle{Get a \gh\ account}
  \bigskip
  \bi
    \item Sign up for \gh: \url{https://github.com}
    \item If possible, choose a user name that will make sense to colleagues,
      e.g. \textbf{andrew-edwards} or \textbf{cgrandin}, not
      \textbf{pink-unicorn}.
    \item Desirable: attach a photo (headshot) to your
      profile. This makes it easy for collaborators to identify you.
  \ei
}

\frame{\frametitle{Text editor}
  You must have a text editor that is aware of outside changes in a file. This
  is necessary because if you have a file open in the editor and you download
  an updated version of the file, you want the editor to ask you if you want
  to use the updated version.\\

  \bigskip

  We know that \textbf{Emacs}, \textbf{Xemacs} and maybe \textbf{Vim} are okay, as is
  \textbf{RStudio} for \textbf{.R} (and other) files.

  \bigskip

  \textbf{Notepad} is not okay. But you can download and install
  \textbf{Notepad++} which is fine:

  \bigskip

  \url{https://notepad-plus-plus.org/download/v7.3.3.html}

  \bigskip

%  [Andy uses \textbf{Emacs} for everything (including running R and Git) as it has many keyboard shortcuts
%    and colours text and code based on the file extension; Chris uses a mixture
%    of \textbf{Xemacs} and \textbf{RStudio}.]
}

\frame{\frametitle{Install the Git application on your machine}
See \url{https://git-scm.com/downloads} for downloading instructions for Windows, MAC and
Linux/Unix.

~\\

It seems best to accept the default options, except NOT Notepad or Vim (unless
you use Vim) as the default editor.
}

\frame{\frametitle{Git shell}
For this course we will use a simple git shell to type commands (rather than a
point-and-click Graphical User Interface). This is for several reasons:
\bn
\item Commands are the same across operating systems.
\item It is easier to demonstrate (and remember) a few simple commands, rather than
  follow a cursor moving across a screen.
\item Learning the text commands will give you a good understanding of how Git
  and GitHub work.
\item It is easier to Google for help when you get stuck or want to learn about
  more advanced options.
\en
}

\frame{\frametitle{Git shell, RStudio}
There are many Graphical User Interfaces that are available, as described at
\url{https://git-scm.com/downloads/guis}.

~\\

Many (but not all) biologists use R in RStudio for their analyses. There is
Git functionality built in to RStudio that we (TODO: SOMEONE?) will
demonstrate later.

  ~\\

I use magit
which works in the text editor emacs (which for years I have used for pretty
much everything, such as editing files, running R, Matlab, etc.). But I would not have
been able to learn magit without first knowing the Git commands from using the
shell.

~\\

 For now we will stick with the Git shell for the aforementioned reasons. It
 will also give you a better understanding of Git and GitHub, and emphasise
 that you can use Git for any files, not just R code.
}


\frame{\frametitle{Powershell and posh-git}

  Download a Powershell (a shell window in which you can type commands,
  presumably the `power' part means it's more powerful than a basic version) and then posh-git following the instructions at:

  \url{https://github.com/dahlbyk/posh-git}.

Do the `Installation' and `Using posh-git' sections. If you don't understand
some options (I don't!) just pick the simplest, usually the first.

~\\

The next slides are from our course about three years ago (and were for
Windows). So they may be out of date (though first one is recent tips from a colleague).


[Maybe we should see https://upg-dh.newtfire.org/explainGitShell.html]

}

\frame{\frametitle{One-time authentication}

The first time you get set up or start using Git, there will be some one-time
authentication to connect to your GitHub account. Follow any instructions.
}


\frame{\frametitle{Configure the Git application}

  \bi
    \item Windows:
      \bn
    \item Create a \lst{github} directory, such as
          \lst[escapechar="\\"]{C:\\github}. It is fine
          to put it in a different path, but make sure there are no spaces
          or special characters \emph{anywhere} in the full path. This is where
          you want to be saving your work that you are tracking with Git.
        \item TODO: Andy has to reinstall anyway and will write something
          here. Think it's just following instructions.
        %  think these Windows steps are simpler nowadays. Basically
        %  want to tell the \emph{Powershell} to open in
        %  \lst[escapechar="\\"]{C:\\github} (or whatever directory you created above).
        %\item Open the GitHub Desktop Application. Press the gear icon and
        %  choose \emph{Options}.
        %\item In \emph{Configure Git}, fill in your name and the
        %  email address you used for your GitHub account.
        %\item Change your \emph{Clone Path} to \lst[escapechar="\\"]{C:\\github}
        %  (or whatever directory you created above).
        %\item Make sure that for \emph{Default Shell}, \emph{PowerShell} is
        %  checked.
        %\item Click \emph{Save} and close the application.
        %\item Check the configuration by opening the \gs, (not the \gh\
        %  application). The directory that it starts in should be
        %  \lst[escapechar="\\"]{C:\\github} (or whatever directory you created
        %  above).
       \en
  \ei

}

\frame{\frametitle{Configure the Git application }
  \bi
        \item MAC:
        \bn
          \item Create the directory \lst[escapechar="\~"]{\~/github}.
          \item Enjoy a beverage.
          \item TODO: Check with Luwen if it's that simple.
        \en
  \ei
}

\frame{\frametitle{``Cloning'' the git-course repository}
  For these instructions, replace \lst{GITHUB-USER} with your
  \gh\ account name.
  \bi
    \item On the \gh\ webpage, sign into your account and navigate to:\\
      \url{https://github.com/quantitative-biology/module-1-git}
    %\item Press the \emph{Fork} button. This will give you a copy of the
    %  git-course repository.
    %\item Navigate to your new forked repository:\\
    %  \lst{https://github.com/GITHUB-USER/git-course}
    % \item Copy the URL.
    \item Windows: Open the \gs\ and run the following command to clone the
      repository (`clone' means copy all files in the repository to your computer):
      \lst{git clone https://github.com/quantitative-biology/module-1-git}
    \item MAC: Open terminal and change to the github directory:\\
      \lst{cd ~/github}
      then run the clone command:\\
      \lst{git clone https://github.com/quantitative-biology/module-1-git}
    \item You now have the files for the GitHub course on your computer.
  \ei
}

\frame{\frametitle{Copy the \emph{.gitconfig} file}
  \bi
    \item Git uses a configuration file for your account info, name to use
      when committing, aliases for commands, and other things.
    \item Open up the \emph{misc} sub-directory in the \emph{git-module-1}
      directory and copy the file \emph{.gitconfig}
    \item For Windows, copy this file (overwrite the existing file) to:\\
      \bigskip
      \lst[escapechar="\\"]{C:\\Users\\YOUR-COMPUTER-USER-NAME\\.gitconfig}\\
      \bigskip
      where \lst{YOUR-COMPUTER-USER-NAME} is your user name on your
      computer, not your \gh\ account name.
      \bigskip
    \item For MAC, copy this file (overwrite the existing file) to:\\
      \bigskip
      \lst[escapechar="\~"]{\~/.gitconfig}
      \bigskip
    \ei
}

\frame{\frametitle{Edit the \emph{.gitconfig} file}
  \bi
    \item Use your favourite editor to edit the new file (not the one in
      \emph{git-course/misc}).
    \item Change the [user] settings to reflect your information.
    \item Change the [difftool] and [diffmerge] directories so they point to
      the location where you have DiffMerge.
    \item For Windows the location should be:\\
      ~~\lst[escapechar="\\"]{C:\\Program Files\\SourceGear\\Common\\DiffMerge\\sgdm.exe}
    \item For MAC the location should be:\\
      ~~\lst{/usr/local/bin/diffmerge}
    \item If you could not install [difftool] or [diffmerge] then delete those
      lines in your \emph{.gitconfig} file.
    \ei
}

\frame{\frametitle{MAC only: make your output pretty}
  On the MAC, change to the \lst[escapechar="\~"]{\~/github} directory
  and run the following command:\\
  \bigskip
  \lst{git config --global color.ui.auto}\\
  \bigskip
  This will make your git output colored in a similar way to the Windows
  powershell version.
}



\frame{\frametitle{Install the difftool}
  The difftool will be used to examine differences between different
  versions of files and also to simplify merging of branches and
  collaborator's code. There are many programs that can be used but
  for consistency we will use Diffmerge.\\
  \bigskip
  It is nice to have but not essential if you have trouble installing it.\\
  \bigskip
  Install Diffmerge:\\
  \url{https://sourcegear.com/diffmerge/downloads.php}\\
  \bigskip
  The configuration for directing git to use Diffmerge will be done in a
  later step.
}

\frame{\frametitle{Markdown Pad}
  Each project has an associated \lst{README.md} file that appears
  on its \gh\ homepage. The extension \lst{.md} stands for Markdown
  and is just an ASCii text file that contains simple formatting (such as
  bold or italics). There are two options we have used to read markdown files,
  choose one:\\

  \bigskip

  \bi
    \item The Markdown Pad 2 editor/viewer which is easy to use:\\
      \url{http://markdownpad.com}. Just get the free version.
    \item The Chrome extension for markdown viewing:\\
      \url{https://chrome.google.com/webstore/detail/markdown-viewer/ckkdlimhmcjmikdlpkmbgfkaikojcbjk?hl=en}.
  \ei

  Again, this is nice to have but not absolutely essential if you have trouble
  installing it.
}

% \frame{\frametitle{R and packages installation (SKIP)}
%   Some exercises rely on having R installed with several packages we'll be
%   using. We are assuming everyone has R installed.\\
%   Install the following packages in R (we'll need more during the workshop):\\

%   \bigskip

%   \bi
%     \item \lst{knitr}
%     \item \lst{xtable}
%     \item \lst{devtools}
%   \ei

%   \bigskip

%   Make sure the location of \lst{Rscript} is included in your
%   \textbf{PATH} environment variable. This is necessary to use the batch
%   files that build the slides using knitr/\LaTeX. To check if it is, type
%   the following into the \gs\ or any other command-line window:\\
%   \lst{Rscript --version}\\
%   and you should see something like this:\\
%   \bigskip
%   R scripting front-end version 3.3.2 (2016-10-31)
% }

% \frame{\frametitle{\LaTeX\ installation -- Windows (SKIP for now)}
%   You will need \LaTeX\ installed (because it will correctly format Research
%   Documents, even though you won't need to learn \LaTeX). You will also
%   be able to build all of these course presentations from code.
%   \bi
%   \item If you have Rtools installed you may already have Mik\TeX installed (see
%         last bullet point below to test it).
%   \item On Windows, if you have lots of disk space ($>1.6$Gb you can use)
%         then we think it's
%         best to install it using Pro\TeX since it includes all \LaTeX\ libraries:
%         \url{https://ctan.org/pkg/protext}\\
%    \item If disk space may be a problem then install Mik\TeX\ (you may just have
%      to install further libraries during the workshop):
%       \bigskip
%       \url{https://miktex.org/download}\\
%       \bigskip
%    \item You can build this PDF (that you are reading) by entering the
%       \lst{beamer/git-setup} directory and double-click the \emph{build-pdf.bat}
%       file (close this PDF first) or type \lst{pdflatex git-course-setup}.
%    \ei
% }

% \frame{\frametitle{\LaTeX\ installation -- Mac (SKIP for now}
%   \bi
%   \item On MAC, install Mac\TeX:\\
%       \bigskip
%       \url{http://www.tug.org/mactex/}\\
%       \bigskip
%       Run the following two or three times (to ensure page numbers are accurate)
%       in the \lst{beamer/git-setup} directory (close this PDF first):\\
%       \lst{pdflatex git-course-setup.tex}
%   \ei
%   \bigskip
% }


% \frame{\frametitle{Pandoc (SKIP)}
%   \bigskip
%   If you don't use \textbf{RStudio} you need to separately install
%   \textbf{Pandoc} from \url{https://github.com/jgm/pandoc/releases/tag/2.2.3.2}.
%   \bigskip

%   This is used in the conversion from \textbf{Rmarkdown} code to \textbf{.pdf}.
%   \bigskip

%   We found it best to choose `install for all users' then click
%   `Advanced' before Install, as you can then choose the installation folder.
%   Double check it gets added to your PATH.
% }


  % \bigskip
  % To get a sneak peek at what is to come, take a look at the git-course
  % repository on \gh\ (you should already have these files on your computer):\\
  % \bigskip
  % \url{https://github.com/quantitative-biology/module-1-git}\\


  % \bigskip
  % In particular, the network graph which shows all our commits from the
  % beginning:\\
  % \bigskip
  % \url{https://github.com/pbs-assess/git-course/network}\\
  % \bigskip
  % The network graph is an invaluable tool in keeping track of what is going
  % on amongst you and you collaborators. We'll get into it more in the course.

  % See you soon.
  % }

\end{document}


% Most probably not needed:
\frame{\frametitle{SKIP: Tips from Chris in 2021 but don't think we need it all now}

Not sure we need this.... And I think this is just for Windows:

Install scm-git (you need this version because it has the new Windows credential
manager): https://git-scm.com/

Then make sure c:/Program Files/Git/cmd is the first place Git is found on your
PATH. That's where git-scm installs it. This is just opening a command window
and typing where git and making sure that folder is first.

Then change something in a file in a test repo,  and commit. Then try to push. You will get a Github for Windows dialog box that asks for your token. Leave that dialog open and
Create a new token on GitHub using these instructions:
https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token

Copy the token (it's some long alphanumeric string, then click Update token if updating or `create token` if creating a new one then finish saving the token so it is live.
Now, paste the token in the GitHub for Windows dialog for logging in and that
should be the end of it.
}
