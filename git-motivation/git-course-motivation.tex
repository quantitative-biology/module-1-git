\documentclass[aspectratio=169]{beamer}
%% For 4:3 aspect ratio:
%% \documentclass{beamer}
\usepackage{../git-course}

\title[git-course]{Motivation for using Git and \gh}
\author{Andrew Edwards}
\date{\course}


\begin{document}
%% Needed to remove 'Figure:' from figure captions:
\setbeamertemplate{caption}{\raggedright\insertcaption\par}

\frame[plain]{
\titlepage
}

\section{Introduction}

\frame{\frametitle{Motivation}
  \bi
    \item Scientists are working far more collaboratively than in the past
    \item This involves both sharing code and writing up results
    \item There is a push towards open science -- including your code as
      part of a scientific paper
    \item We have called this a TTT approach:
      \bi
         \item Transparent -- a clear and open way to show data, code, and
           results, enabling reproducibility
         \item Traceable -- a clear link from database queries and code to final
           results (numbers, tables, and graphs in a document)
         \item Transferable -- it should be feasible for another person to
           reproduce work and build upon it with a minimal learning curve
      \ei
    \item Using Git and \gh\ in your workflow greatly enables this, both when working
      alone and in a team.
  \ei
}

\frame{\frametitle{Definitions -- what are Git and \gh?}
  \bi
    \item {\red Git} allows you to continually save the latest versions
       of your files (e.g. computer code) as you work on them (`version control').
    \item It also allows you to go back to {\red any previous version} of your files.
    \item {\red GitHub} is a website that hosts a `repository' of the code and enables
      users to easily collaborate.
    \item Your repositories can be either public or private.
     \item We use these to:
       \bi
         \item collaborate on writing code and producing documents
         \item to easily share code publically, and update it, from scientific
           papers
         \item when working alone to retain a methodical workflow
       \ei
  \ei
}

\frame{\frametitle{Example application -- Pacific Hake stock assessment}
  \bi
    \item Collaboration between four US and Canadian scientists.
    \item Annual stock assessment of Pacific Hake -- fit a complex population
      model to data to make projections about future health of stock under
      different levels of catch.
    \item Used to manage the stock (important ecological species and
      \$100~million export value in Canada).
    \item Very short turnaround between getting final data and submitting assessment.
    \item Short turnaround between review meeting and publishing assessment (two days).
    \item 2015 and before -- lots of editing and amalgamating Word files late at night.
  \ei
}

\frame{\frametitle{Example application -- Pacific Hake stock assessment}
  \bi
    \item After running models we can now automatically generate full document, including all numbers, figures and tables (via knitr and latex, all shared on \gh).

    \item Was a lot of work in 2016 to set up, but 2017 was way less stressful and resulted in more polished document.
    \item Praise on Twitter from one of the reviewers!
  \ei
  \includegraphics[
     width=\textwidth,
     height=0.50\textheight,
     keepaspectratio]
     {figures/trevorTweet}
}

\frame{\frametitle{Example application -- Pacific Hake stock assessment}
  \bi
    \item How to share code and make sure we are working on the same version?
    \item Emailing versions of files back and forth is:
    \bi
      \item very inefficient,
      \item prone to errors,
      \item painful.
    \ei
    \item With such complex code we need to have {\red identical} folder structures on each other's computers.
  \ei
}

\section{Avoid}
\frame{\frametitle{Examples of what we can avoid}

  \centering
  \begin{figure}
    \includegraphics[
        width=\textwidth,
        height=0.8\textheight,
        keepaspectratio]
        {figures/interim.png}
  %\vspace{-3mm}
  %\caption{\tiny\url{https://www.reddit.com/user/NegativePitch}}
  \end{figure}
}

\frame{\frametitle{Relying on one person (e.g.~me) who holds up a project}

  Often we may be collaborating on a project but be busy on something else, yet our collaborator has time.

  \centering
  \begin{figure}
    \includegraphics[
        width=\textwidth,
        height=0.8\textheight,
        keepaspectratio]
        {figures/procEmail.png}
  %\vspace{-3mm}
  %\caption{\tiny\url{https://www.reddit.com/user/NegativePitch}}
  \end{figure}
}

\frame{\frametitle{Cluttering up directories}

  We may want to keep old versions in case we have to go back, but then ...

  \centering
  \begin{figure}
    \includegraphics[
        width=\textwidth,
        height=0.8\textheight,
        keepaspectratio]
        {figures/EAversions.png}
  \end{figure}
}

\frame{\frametitle{Can work simultaneously on same document (and then merge)}

  Can all keep up with the latest version (checking and merging each
  other's work along the way), rather than ...

  \centering
  \begin{figure}
    \includegraphics[
        width=\textwidth,
        height=0.8\textheight,
        keepaspectratio]
        {figures/proposalEmail.png}
  \end{figure}
}

\frame{\frametitle{Can then avoid very annoying situations}

  Can all keep up with the latest version (checking and merging each
  other's work along the way), rather than ...

  \centering
  \begin{figure}
    \includegraphics[
        width=\textwidth,
        height=0.8\textheight,
        keepaspectratio]
        {figures/dogsBreakfast.png}
  \end{figure}
}



\section{\gh\ advantages}

\frame{\frametitle{Can easily catch up with collaborator}

  Chris did a lot of work (`commits') from 11th May ...

  ~\\
  ~\\
  \includegraphics[
     width=\textwidth,
     height=0.6\textheight,
     keepaspectratio]
     {figures/netWorkGraph1}
}

\frame{\frametitle{Can easily catch up with collaborator}

  ... to 30th May:
  ~\\
  ~\\

  \includegraphics[
     width=\textwidth,
     height=0.6\textheight,
     keepaspectratio]
     {figures/netWorkGraph2}

  I did nothing in that time ...

}

\frame{\frametitle{Can easily catch up with collaborator}

  ... but just needed three commands (that you'll learn) to get caught up:
  ~\\
  ~\\

  \includegraphics[
     width=\textwidth,
     height=0.6\textheight,
     keepaspectratio]
     {figures/netWorkGraph3}

  ~\\
  All files that Chris edited got updated, plus I now have any new files he created, and our folder structures are identical.
}

\frame{\frametitle{Easy to answer other's questions}

  \includegraphics[
     width=\textwidth,
     height=0.80\textheight,
     keepaspectratio]
     {figures/MEEcodeQuest}


  Rather than go to the code on my laptop that I haven't looked at for six months, I could click on link and answer very quickly.
}

\frame{\frametitle{Easy to answer other's questions}

  \includegraphics[
     width=\textwidth,
     height=0.80\textheight,
     keepaspectratio]
     {figures/MEEcodeAnswer}

~\\
  Can provide a clear answer with a link to the file I'm talking about. No ambiguity.
}



% \frame{\frametitle{I wanted to check if I'd changed anything in the last month}

%   \includegraphics[
%      width=\textwidth,
%      height=0.80\textheight,
%      keepaspectratio]
%      {figures/history}

%   I hadn't thought of that before [on \gh: Code -- $<$click file$>$ -- History].
% }



\frame{\frametitle{Groundfish data synopsis -- **move to Rmarkdown talk}
  \bi
  \item ``A reproducible data synopsis for over 100 species of British Columbia
    groundfish'' (Anderson, Keppel \& Edwards, submitted)
  \item Report generation fully automated:
    \bi
    \item pull data from databases
    \item fit models
    \item generate plots
    \item stitch together document
      \ei
    \item Facilitates annual publication, reproducibility, and transparency
    \item Goals:
      \bi
      \item enable regular review by groundfish scientists and managers of
        trends in survey indices
      \item generate standardized datasets and visualizations for a planned
        data-limited approach
      \item increase data transparency between Fisheries and Oceans Canada, the
        fishing industry, non-governmental organizations, and the public.
      \ei
    \ei
}



\frame{\frametitle{Who wrote that piece of garbage?}

  \includegraphics[
     width=\textwidth,
     height=0.80\textheight,
     keepaspectratio]
     {figures/blame}

~\\
  Can be useful [on \gh: Code -- $<$click file$>$ -- Blame].
}

\frame{\frametitle{Can properly keep track of (and discuss) issues}

Rather than lots of emails that get forgotten, the to-do list actually gets completed:

~\\

  \includegraphics[
     width=\textwidth,
     height=0.70\textheight,
     keepaspectratio]
     {figures/hakeIssues21}
}

\frame{\frametitle{Can properly keep track of (and discuss) issues}

And you don't have to follow up with co-authors (who do have it under control):

~\\
  \includegraphics[
     width=\textwidth,
     height=0.80\textheight,
     keepaspectratio]
     {figures/captionEmail}
}


% \frame{\frametitle{Feedback from 2017 course}

% % Hey, you two!

% Wanted to send you a belated thank-you and update that using git

% \bi
% \item is now permanently part of my workflow

% \item has vastly improved the organization \& communication for a few collaborative
% projects I'm working on (making full use of ``issues'' and ``projects''
% features).
% \ei

% It's also had a ripple effect on the Pacific salmon world, since my excitement over the git course was the proverbial straw that got Gottfried Pestal going full tilt into git \& now it looks like all of his projects and associated DFO staff are there, too. And I just saw first signs that some of the Pacific Salmon Commission staff are starting to use it too.

% Now we (Gottfried \& I) are venturing into the world of {\tt .Rmd}, {\tt
%   Pandoc}, etc. and I'm going back to your course materials to get myself re-oriented.

% Thanks again!
% }

\section{Why this course?}

\frame{\frametitle{Why this course?}
  \bi
    \item The Git and \gh\ online world can be very computer science-y.
    \item Target audience here:
      \bi
         \item graduate level biology students
         \item biology faculty
         \item government scientists
         \item in fact anyone wanting to learn these tools
      \ei
    \item This is extended from part of a Fisheries and Oceans Canada workshop by Chris
      Grandin and myself.
    \item It was well-received and Git and \gh\ are widely used in our
      organisation.
  \ei
}


\section{Summary}

\frame{\frametitle{Summary}

  \bi
    \item Ideal for sharing of code.
    \item `Repositories' can be public or private.
    \item Caveat -- cannot (properly) collaborate on Word files. We will
      concentrate at first on just sharing code (text files).
    \item It doesn't matter what language your code is in (R, Matlab, Python, C,
      ...), as we will just be sharing text files.
%    \item We will use RMarkdown (easy) to generate a .pdf that complies with the
%      CSAS style rules. Can also use to generate Word files. So you don't have
%      to know \LaTeX.
%    \item Hake, data synopsis and other examples show how far you can get.
    \item There \emph{is} a learning curve, but once you use \gh\ you only really need a few main commands.
  \ei
}



\end{document}
